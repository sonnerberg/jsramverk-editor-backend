(this["webpackJsonpquill-copy-paste"]=this["webpackJsonpquill-copy-paste"]||[]).push([[0],{169:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),o=a(31),r=a.n(o),s=(a(60),a(55)),i=(a(61),a(5)),l=a.n(i),d=a(32),u=a(22),m=a(1),p=2500,j="RESET",h="FIELD",b="EDIT",f="SUCCESS",O="ERROR",y="CLEAR_ERROR",x="CLEAR_SUCCESS",v="UPDATE_ALL_DOCUMENTS",g={documentId:null,editorText:null,documentName:"",allDocuments:[],success:"",error:""};function N(e,t){switch(t.type){case h:return Object(m.a)(Object(m.a)({},e),{},Object(u.a)({},t.fieldName,t.payload));case v:if(e.allDocuments.map((function(e){return e._id})).includes(t.payload._id)){var a=e.allDocuments.findIndex((function(e){return e._id===t.payload._id})),n=Object(d.a)(e.allDocuments);return n[a]=t.payload,Object(m.a)(Object(m.a)({},e),{},{allDocuments:n})}return Object(m.a)(Object(m.a)({},e),{},{allDocuments:[].concat(Object(d.a)(e.allDocuments),[t.payload])});case x:return Object(m.a)(Object(m.a)({},e),{},{success:""});case y:return Object(m.a)(Object(m.a)({},e),{},{error:""});case O:return Object(m.a)(Object(m.a)({},e),{},{error:t.payload,success:""});case f:return Object(m.a)(Object(m.a)({},e),{},{success:t.payload,error:""});case b:return Object(m.a)(Object(m.a)({},e),{},{documentId:t.payload.id,editorText:t.payload.html,documentName:t.payload.name});case j:return Object(m.a)(Object(m.a)({},e),{},{documentId:null,editorText:null,documentName:"",success:""});default:return e}}var T=a(0),w=function(){return Object(T.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-save",viewBox:"0 0 16 16",children:Object(T.jsx)("path",{d:"M2 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H9.5a1 1 0 0 0-1 1v7.293l2.646-2.647a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L7.5 9.293V2a2 2 0 0 1 2-2H14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h2.5a.5.5 0 0 1 0 1H2z"})})},C=function(){return Object(T.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-trash",viewBox:"0 0 16 16",children:[Object(T.jsx)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),Object(T.jsx)("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})};var D=i.Quill.import("formats/size");D.whitelist=["extra-small","small","medium","large"],i.Quill.register(D,!0);var I=i.Quill.import("formats/font");I.whitelist=["arial","comic-sans","courier-new","georgia","helvetica","lucida"],i.Quill.register(I,!0);var k={toolbar:{container:"#toolbar",handlers:{}},history:{delay:500,maxStack:100,userOnly:!0}},E=["header","font","size","bold","italic","underline","align","strike","script","blockquote","background","list","bullet","indent","link","image","color","code-block"],S=function(e){var t=e.documentName,a=e.editorText,n=e.documentId,c=e.dispatch;return Object(T.jsx)("div",{id:"toolbar",style:{marginTop:"20px"},children:Object(T.jsxs)("span",{className:"ql-formats",children:[Object(T.jsxs)("span",{className:"ql-formats",children:[Object(T.jsx)("button",{className:"ql-bold"}),Object(T.jsx)("button",{className:"ql-italic"}),Object(T.jsx)("button",{className:"ql-underline"}),Object(T.jsx)("button",{className:"ql-strike"})]}),Object(T.jsx)("span",{className:"ql-formats",children:Object(T.jsx)("button",{onClick:function(){c({type:j}),c({type:f,payload:"Changes trashed, new document ready"}),setTimeout((function(){c({type:x})}),p)},children:Object(T.jsx)(C,{})})}),Object(T.jsx)("span",{className:"ql-formats",children:Object(T.jsx)("button",{onClick:function(){!function(e){var t,a=e.documentId,n=e.documentName,c=e.editorText,o=e.dispatch,r="https://jsramverk-editor-pene14.azurewebsites.net/api/v1";a?(r="".concat(r,"/update"),t={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,name:n,html:c})}):(r="".concat(r,"/create"),t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,html:c})});var s=h,i="documentId";n?fetch(r,t).then((function(e){return e.json()})).then((function(e){return e.data?e.data.id?(o({type:s,fieldName:i,payload:e.data.id}),o({type:v,payload:{_id:e.data.id,name:n,html:c}})):(o({type:s,fieldName:i,payload:e.data.value._id}),o({type:v,payload:{_id:e.data.value._id,name:n,html:c}})):(console.error(e.errors.message),o({type:O,payload:e.errors.message}),setTimeout((function(){o({type:y})}),p))})).catch((function(e){o({type:O,payload:e.message}),setTimeout((function(){o({type:y})}),p)})):(o({type:O,payload:"Document name is empty"}),setTimeout((function(){o({type:y})}),p),console.error("Document name is empty"))}({documentName:t,editorText:a,documentId:n,dispatch:c})},children:Object(T.jsx)(w,{})})})]})})},R=(a(168),function(e){var t=e.documentId,a=e.editorText,n=e.documentName,c=e.dispatch;return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("div",{className:"text-editor",children:[Object(T.jsx)(S,{documentName:n,editorText:a,documentId:t,dispatch:c}),Object(T.jsx)("input",{style:{width:"100%"},placeholder:"Insert document name",type:"text",value:n,onChange:function(e){var t=e.target.value;c({type:h,fieldName:"documentName",payload:t})}}),Object(T.jsx)(l.a,{theme:"snow",value:a,onChange:function(e){c({type:h,fieldName:"editorText",payload:e})},placeholder:"Write something awesome or choose a saved document below...",modules:k,formats:E})]})})});function _(e){var t=e.dispatch,a=e.allDocuments,c="https://jsramverk-editor-pene14.azurewebsites.net/api/v1";return Object(n.useEffect)((function(){fetch(c).then((function(e){return e.json()})).then((function(e){return e.data?t({type:h,fieldName:"allDocuments",payload:e.data}):console.error(e.errors.message)}))}),[t,c]),Object(T.jsx)("div",{children:a.map((function(e){var a=e._id,n=e.name,c=e.html;return Object(T.jsx)("button",{style:{display:"block",cursor:"pointer",minWidth:"500px",margin:"auto"},onClick:function(e){!function(e,a){var n=a.id,c=a.name,o=a.html;e.preventDefault(),t({type:b,payload:{id:n,name:c,html:o}})}(e,{id:a,name:n,html:c})},children:n},a)}))})}function q(e){var t=e.error;return Object(T.jsx)("div",{style:{color:"red",position:"absolute",top:"0",marginLeft:"auto",marginRight:"auto",left:0,right:0,textAlign:"center"},children:t})}function z(e){var t=e.success;return Object(T.jsx)("div",{style:{color:"green",position:"absolute",top:"0",marginLeft:"auto",marginRight:"auto",left:0,right:0,textAlign:"center"},children:t})}var L=function(){var e=Object(n.useReducer)(N,g),t=Object(s.a)(e,2),a=t[0],c=a.documentId,o=a.editorText,r=a.documentName,i=a.allDocuments,l=a.success,d=a.error,u=t[1];return Object(T.jsxs)(T.Fragment,{children:[d?Object(T.jsx)(q,{error:d}):null,l?Object(T.jsx)(z,{success:l}):null,Object(T.jsx)(R,{documentId:c,editorText:o,documentName:r,dispatch:u}),Object(T.jsx)(_,{dispatch:u,allDocuments:i})]})},V=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,170)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),o(e),r(e)}))};r.a.render(Object(T.jsx)(c.a.StrictMode,{children:Object(T.jsx)(L,{})}),document.getElementById("root")),V()},60:function(e,t,a){},61:function(e,t,a){}},[[169,1,2]]]);
//# sourceMappingURL=main.f64aee6d.chunk.js.map